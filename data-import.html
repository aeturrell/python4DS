
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8. Data Import &#8212; Python for Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-LXJC37BJVX"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-LXJC37BJVX');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-LXJC37BJVX');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data-import';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. Workflow: Packages and Environments" href="workflow-packages-and-environments.html" />
    <link rel="prev" title="7. Workflow: Writing Code" href="workflow-writing-code.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="welcome.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Python for Data Science - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="Python for Data Science - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="welcome.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quick Start</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="whole-game.html">1. Whole Game</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-visualise.html">2. Data Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-basics.html">3. Workflow: Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-transform.html">4. Data Transformation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-style.html">5. Workflow: Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-tidy.html">6. Tidy Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-writing-code.html">7. Workflow: Writing Code</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">8. Data Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-packages-and-environments.html">9. Workflow: Packages and Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow-help.html">10. Postscript: Getting Further Help</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Visualise</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="visualise.html">11. Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis-layers.html">12. Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="exploratory-data-analysis.html">13. Exploratory Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="communicate-plots.html">14. Graphics for Communication</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Transform</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="boolean-data.html">15. Boolean Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="numbers.html">16. Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">17. Strings and Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="regex.html">18. Regular Expressions, aka regex</a></li>
<li class="toctree-l1"><a class="reference internal" href="categorical-data.html">19. Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="dates-and-times.html">20. Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="missing-values.html">21. Missing Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="joins.html">22. Joins</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Import</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="spreadsheets.html">23. Spreadsheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">24. Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="rectangling.html">25. Nested Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="webscraping-and-apis.html">26. Webscraping and APIs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Programme</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="functions.html">27. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteration.html">28. Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-line.html">29. The Command Line</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Communicate</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markdown.html">30. Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="quarto.html">31. Quarto</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/aeturrell/python4DS/main?urlpath=lab/tree/data-import.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/aeturrell/python4DS/blob/main/data-import.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/aeturrell/python4DS" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/aeturrell/python4DS/issues/new?title=Issue%20on%20page%20%2Fdata-import.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/data-import.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Import</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">8.1. Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">8.1.1. Prerequisites</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">8.2. Getting Started</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-data-from-a-file">8.2.1. Reading data from a file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-steps">8.2.2. First Steps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">8.2.3. Exercises</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-data-from-multiple-files">8.3. Reading data from multiple files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-to-a-file">8.4. Writing to a file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-other-data-formats">8.4.1. Reading and Writing Other Data Formats</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-import">
<span id="id1"></span><h1><span class="section-number">8. </span>Data Import<a class="headerlink" href="#data-import" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2><span class="section-number">8.1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>In this chapter, we’re going to introduce working with your own data. Here, you’ll learn how to read plain-text rectangular files into Python. We’ll only scratch the surface of data import, but many of the principles will translate to other forms of data. We’ll finish with a few pointers to opening other types of data.</p>
<section id="prerequisites">
<h3><span class="section-number">8.1.1. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h3>
<p>You will need to have the <strong>pandas</strong> package installed. You’ll need to ensure you have <strong>pandas</strong> installed. To do this, and to import <strong>pandas</strong> into your session, run</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>If this command fails, you don’t have <strong>pandas</strong> installed. Open up the terminal in Visual Studio Code (Terminal -&gt; New Terminal) and type in <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">pandas</span></code>. Note that once <strong>pandas</strong> is installed, the convention is to import it into your Python session under the name <code class="docutils literal notranslate"><span class="pre">pd</span></code> by putting <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pandas</span> <span class="pre">as</span> <span class="pre">pd</span></code> at the top of your script.</p>
</section>
</section>
<section id="getting-started">
<h2><span class="section-number">8.2. </span>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">#</a></h2>
<p>There are a huge range of input and output formats available in <strong>pandas</strong>: Stata (.dta), Excel (.xls, .xlsx), csv, tsv, big data formats (HDF5, parquet), JSON, SAS, SPSS, SQL, and more; there’s a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">full list</a> of formats available in the documentation.</p>
<p><img alt="From the pandas documentation" src="https://pandas.pydata.org/pandas-docs/stable/_images/02_io_readwrite.svg" /></p>
<p>While <strong>pandas</strong> has a huge number of ways to read data in and load it into your Python session, here we’ll focus on the humble plain-text table file; for example csv (comma separated values) and tsv (tab separated values).</p>
<section id="reading-data-from-a-file">
<h3><span class="section-number">8.2.1. </span>Reading data from a file<a class="headerlink" href="#reading-data-from-a-file" title="Link to this heading">#</a></h3>
<p>All of the power needed to open plain-text table files is contained in a single function, <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>. It takes numerous arguments but the two most important are the (unnamed) first one, which gives the path to the data, and <code class="docutils literal notranslate"><span class="pre">sep=</span></code> (a keyword argument) that tells <strong>pandas</strong> whether to expect values to be separated by commas or tabs or another character; however, if you leave this field blank, <strong>pandas</strong> will guess for you. To see the full set of arguments, run <code class="docutils literal notranslate"><span class="pre">help(pd.read_csv)</span></code>.</p>
<p>Here is what a simple CSV file with a row for column names (also commonly referred to as the header row) and six rows of data looks like (using the terminal):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="w"> </span>cat<span class="w"> </span>data/students.csv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Student ID,Full Name,favourite.food,mealPlan,AGE

1,Sunil Huffmann,Strawberry yoghurt,Lunch only,4

2,Barclay Lynn,French fries,Lunch only,5

3,Jayendra Lyne,N/A,Breakfast and lunch,7

4,Leon Rossini,Anchovies,Lunch only,8

5,Chidiegwu Dunkel,Pizza,Breakfast and lunch,five

6,Güvenç Attila,Ice cream,Lunch only,6
</pre></div>
</div>
</div>
</div>
<p>Note that this is a CSV file, so the values are separated by commas. Now let’s load this into a <strong>pandas</strong> dataframe in Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/students.csv&quot;</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Student ID</th>
      <th>Full Name</th>
      <th>favourite.food</th>
      <th>mealPlan</th>
      <th>AGE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>NaN</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you want to download this data to try it for yourself, head to <a class="reference external" href="https://github.com/aeturrell/python4DS/blob/main/data/students.csv">this link</a> and then right-click on ‘Raw’ and select “Save Link As…”. Save the data in a directory called ‘data’ with the name ‘students.csv’. This directory should sit within your active Visual Studio Code folder. You can check which folder you’re currently in by running the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>  <span class="c1"># get current working directory (cwd)</span>
</pre></div>
</div>
<p>Say this comes back with ‘python4DS’, then your downloaded data should be in ‘python4DS/data/students.csv’.</p>
<p>The first argument to <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> was the path to the data, and <strong>pandas</strong> guessed that this file uses commas as the separator.</p>
<p>The read CSV function automatically creates a new <em>index</em> (which is just the position of each row) and takes the top line of data as the <em>header</em> or <em>column names</em>. But you may wish to tweak this behaviour, in several ways.</p>
<ol class="arabic simple">
<li><p>Sometimes there are a few lines of metadata at the top of the file. You can use <code class="docutils literal notranslate"><span class="pre">skiprows=n</span></code> to skip the first <code class="docutils literal notranslate"><span class="pre">n</span></code> lines, eg <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">skiprows=2)</span></code>.</p></li>
<li><p>The data might not have column names. You can use <code class="docutils literal notranslate"><span class="pre">names</span> <span class="pre">=</span> </code> a list to tell <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> to use a different option for the column names. For example, <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">names=range(5))</span></code> would put the numbers 0 to 4 in as the column names.</p></li>
<li><p>You may wish to change which column is used as the index. The default behaviour is to create an index, but for this data we see that there already is an ID column we could use. To do this, use the <code class="docutils literal notranslate"><span class="pre">index_col=</span></code> argument, for example <code class="docutils literal notranslate"><span class="pre">pd.read_csv(&quot;data/students.csv&quot;,</span> <span class="pre">index_col=0)</span></code>.</p></li>
</ol>
<p>This is all you need to know to read ~75% of CSV files that you’ll encounter in practice. Reading tab separated files and fixed width files is done with the same function.</p>
</section>
<section id="first-steps">
<h3><span class="section-number">8.2.2. </span>First Steps<a class="headerlink" href="#first-steps" title="Link to this heading">#</a></h3>
<p>Let’s take another look at the <code class="docutils literal notranslate"><span class="pre">students</span></code> data.</p>
<p>Once you read data in, the first step usually involves transforming it in some way to make it easier to work with in the rest of your analysis. For example, the column names in the <code class="docutils literal notranslate"><span class="pre">students</span></code> file we read in are formatted in non-standard ways.</p>
<p>You might consider renaming them one by one with <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> or you might use a convenience function from another package to clean them and turn them all into snake case at once. We will make use of the <strong>skimpy</strong> package to do this. <strong>skimpy</strong> is a smaller package so isn’t available to install via conda; instead, install it by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">skimpy</span></code> in the terminal.</p>
<p>From <strong>skimpy</strong>, we will use the <code class="docutils literal notranslate"><span class="pre">clean_columns()</span></code> function; this takes in a data frame and returns a data frame with variable names converted to snake case.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">skimpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">clean_columns</span>

<span class="n">students</span> <span class="o">=</span> <span class="n">clean_columns</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>student_id</th>
      <th>full_name</th>
      <th>favourite_food</th>
      <th>meal_plan</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>NaN</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Another common task after reading in data is to consider variable types. In the <code class="docutils literal notranslate"><span class="pre">favourite_food</span></code> column, there are a bunch of food items and then the value <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, which has been read in as a floating point number rather than a missing string. We can solve this by casting that column to explicitly be composed of strings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s2">&quot;favourite_food&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;favourite_food&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>student_id</th>
      <th>full_name</th>
      <th>favourite_food</th>
      <th>meal_plan</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Sunil Huffmann</td>
      <td>Strawberry yoghurt</td>
      <td>Lunch only</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Barclay Lynn</td>
      <td>French fries</td>
      <td>Lunch only</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Jayendra Lyne</td>
      <td>&lt;NA&gt;</td>
      <td>Breakfast and lunch</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Leon Rossini</td>
      <td>Anchovies</td>
      <td>Lunch only</td>
      <td>8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Chidiegwu Dunkel</td>
      <td>Pizza</td>
      <td>Breakfast and lunch</td>
      <td>five</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>Güvenç Attila</td>
      <td>Ice cream</td>
      <td>Lunch only</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similarly, <code class="docutils literal notranslate"><span class="pre">&quot;age&quot;</span></code> has mixed data types: string and integer! Let’s map the ‘five’ into the number five.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    4
1    5
2    7
3    8
4    5
5    6
Name: age, dtype: object
</pre></div>
</div>
</div>
</div>
<p>In a moment, we will turn this into a column of integers too.</p>
<p>Another example where the data type is wrong is <code class="docutils literal notranslate"><span class="pre">meal_type</span></code>. This is a categorical variable with a known set of possible values. <strong>pandas</strong> has a special data type for these:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s2">&quot;meal_plan&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0             Lunch only
1             Lunch only
2    Breakfast and lunch
3             Lunch only
4    Breakfast and lunch
5             Lunch only
Name: meal_plan, dtype: category
Categories (2, object): [&#39;Breakfast and lunch&#39;, &#39;Lunch only&#39;]
</pre></div>
</div>
</div>
</div>
<p>Note that the values in the <code class="docutils literal notranslate"><span class="pre">meal_type</span></code> variable has stayed exactly the same, but the type of variable has changed from the object to category.</p>
<p>It is a bit tedious to have to go through columns one-by-one as single line assignments to apply type. An alternative is to pass a dictionary that maps column names into types, like follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">})</span>
<span class="n">students</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype   
---  ------          --------------  -----   
 0   student_id      6 non-null      int64   
 1   full_name       6 non-null      string  
 2   favourite_food  5 non-null      string  
 3   meal_plan       6 non-null      category
 4   age             6 non-null      int64   
dtypes: category(1), int64(2), string(2)
memory usage: 450.0 bytes
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercises">
<h3><span class="section-number">8.2.3. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>What function would you use to read a file where fields were separated with “|”?</p></li>
</ol>
</section>
</section>
<section id="reading-data-from-multiple-files">
<h2><span class="section-number">8.3. </span>Reading data from multiple files<a class="headerlink" href="#reading-data-from-multiple-files" title="Link to this heading">#</a></h2>
<p>Sometimes your data is split across multiple files instead of being contained in a single file. For example, you might have sales data for multiple months, with each month’s data in a separate file: <code class="docutils literal notranslate"><span class="pre">01-sales.csv</span></code> for January, <code class="docutils literal notranslate"><span class="pre">02-sales.csv</span></code> for February, and <code class="docutils literal notranslate"><span class="pre">03-sales.csv</span></code> for March.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> you can read these data in one-by-one and then stack them on top of each other in a single data frame using the <code class="docutils literal notranslate"><span class="pre">pd.concat()</span></code> function. This looks like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_of_dataframes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;data/01-sales.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;data/02-sales.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;data/03-sales.csv&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">sales_files</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">list_of_dataframes</span><span class="p">)</span>
<span class="n">sales_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>month</th>
      <th>year</th>
      <th>brand</th>
      <th>item</th>
      <th>n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>9</td>
    </tr>
    <tr>
      <th>5</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>6</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3827</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>3627</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>8820</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>7253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8766</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8288</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you have many files you want to read in, it can get cumbersome to write out their names as a list. Instead, you can use the <strong>glob</strong> package (which is built in to Python) to find the files for you by matching a pattern in the file names. Note that there may be other CSV files in the directory data/, so here we specified <code class="docutils literal notranslate"><span class="pre">&quot;*-sales.csv&quot;</span></code> to ensure we only get those files that include the word sales. Here, <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> plays the role of a wildcard: it represents any series of characters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>

<span class="n">list_of_csvs</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;data/*-sales.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;List of csvs is:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_of_csvs</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">sales_files</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_of_csvs</span><span class="p">])</span>
<span class="n">sales_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>List of csvs is:
[&#39;data/01-sales.csv&#39;, &#39;data/03-sales.csv&#39;, &#39;data/02-sales.csv&#39;] 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>month</th>
      <th>year</th>
      <th>brand</th>
      <th>item</th>
      <th>n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>January</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>9</td>
    </tr>
    <tr>
      <th>5</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
    <tr>
      <th>6</th>
      <td>January</td>
      <td>2019</td>
      <td>2</td>
      <td>3827</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>3627</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>March</td>
      <td>2019</td>
      <td>1</td>
      <td>8820</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>7253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8766</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>March</td>
      <td>2019</td>
      <td>2</td>
      <td>8288</td>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1234</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>8721</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>February</td>
      <td>2019</td>
      <td>1</td>
      <td>1822</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3333</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>2156</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>February</td>
      <td>2019</td>
      <td>2</td>
      <td>3987</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="writing-to-a-file">
<h2><span class="section-number">8.4. </span>Writing to a file<a class="headerlink" href="#writing-to-a-file" title="Link to this heading">#</a></h2>
<p>Just as the typical pattern for reading files is <code class="docutils literal notranslate"><span class="pre">pd.read_FILETYPE()</span></code>, where filetype can be, for example, CSV, all of the ways of writing <strong>pandas</strong> data frames to disk have the pattern <code class="docutils literal notranslate"><span class="pre">DATAFRAME.to_FILETYPE()</span></code>. So to write our sales data to a CSV file, the code will be <code class="docutils literal notranslate"><span class="pre">sales_files.to_csv(FILEPATH)</span></code>, where filepath is the location plus name of the file you want to write to.</p>
<p>Let’s see an example of writing data to file using our students data that we already did such good work on setting the data types for:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;data/students-clean.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s read it back in and check the info on data types:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/students-clean.csv&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 6 columns):
 #   Column          Non-Null Count  Dtype 
---  ------          --------------  ----- 
 0   Unnamed: 0      6 non-null      int64 
 1   student_id      6 non-null      int64 
 2   full_name       6 non-null      object
 3   favourite_food  5 non-null      object
 4   meal_plan       6 non-null      object
 5   age             6 non-null      int64 
dtypes: int64(3), object(3)
memory usage: 416.0+ bytes
</pre></div>
</div>
</div>
</div>
<p>Notice anything? We lost a lot of the nice data type work we did! While <strong>pandas</strong> guessed that some columns are integers, we lost the string and categorical variables. The reason for this is that plain text files are not able to carry any contextual information (though <strong>pandas</strong> will guess some column data types).</p>
<p>If you want to save data in a file and have it remember the data types, you’ll need to use a different data format. For temporary storage, we recommend using the <em>feather</em> format as it is very fast and interoperable with other programming languages. Interoperability is a good reason to avoid language-specific file formats such as Stata’s .dta, R’s .rds, and Python’s .pickle.</p>
<p>Note that the feather format has an additional dependency in the form of a package called <strong>pyarrow</strong>. To install it, run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pyarrow</span></code> in a terminal window.</p>
<p>Here’s an example of writing to a feather file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s2">&quot;data/students-clean.feather&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s re-open that feather file and take a look at the info attached to it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s2">&quot;data/students-clean.feather&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype   
---  ------          --------------  -----   
 0   student_id      6 non-null      int64   
 1   full_name       6 non-null      string  
 2   favourite_food  5 non-null      string  
 3   meal_plan       6 non-null      category
 4   age             6 non-null      int64   
dtypes: category(1), int64(2), string(2)
memory usage: 450.0 bytes
</pre></div>
</div>
</div>
</div>
<p>Saving to this format preserved our data type information.</p>
<section id="reading-and-writing-other-data-formats">
<h3><span class="section-number">8.4.1. </span>Reading and Writing Other Data Formats<a class="headerlink" href="#reading-and-writing-other-data-formats" title="Link to this heading">#</a></h3>
<p>The image at the start of this chapter gives you a sense of what other formats are available but you can find a comprehensive list over at the <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html">official <strong>pandas</strong> documentation on input and output</a>.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="workflow-writing-code.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">7. </span>Workflow: Writing Code</p>
      </div>
    </a>
    <a class="right-next"
       href="workflow-packages-and-environments.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9. </span>Workflow: Packages and Environments</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">8.1. Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">8.1.1. Prerequisites</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">8.2. Getting Started</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-data-from-a-file">8.2.1. Reading data from a file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-steps">8.2.2. First Steps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">8.2.3. Exercises</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-data-from-multiple-files">8.3. Reading data from multiple files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-to-a-file">8.4. Writing to a file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-other-data-formats">8.4.1. Reading and Writing Other Data Formats</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Py4DS Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>